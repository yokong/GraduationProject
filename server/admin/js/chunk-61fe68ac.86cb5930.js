(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61fe68ac"],{"0f10":function(e,t,r){"use strict";var a=r("4d1e"),l=r.n(a);l.a},"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r("d3b7"),r("e6cf");function a(e,t,r,a,l,o,n){try{var i=e[o](n),s=i.value}catch(c){return void r(c)}i.done?t(s):Promise.resolve(s).then(a,l)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(l,o){var n=e.apply(t,r);function i(e){a(n,l,o,i,s,"next",e)}function s(e){a(n,l,o,i,s,"throw",e)}i(void 0)}))}}},"4d1e":function(e,t,r){},"96cf":function(e,t){!function(t){"use strict";var r,a=Object.prototype,l=a.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",c="object"===typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{u=t.regeneratorRuntime=c?e.exports:{},u.wrap=x;var m="suspendedStart",d="suspendedYield",p="executing",f="completed",h={},v={};v[n]=function(){return this};var b=Object.getPrototypeOf,g=b&&b(b(N([])));g&&g!==a&&l.call(g,n)&&(v=g);var y=L.prototype=k.prototype=Object.create(v);$.prototype=y.constructor=L,L.constructor=$,L[s]=$.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===$||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,L):(e.__proto__=L,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(y),e},u.awrap=function(e){return{__await:e}},_(R.prototype),R.prototype[i]=function(){return this},u.AsyncIterator=R,u.async=function(e,t,r,a){var l=new R(x(e,t,r,a));return u.isGeneratorFunction(t)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},_(y),y[s]="Generator",y[n]=function(){return this},y.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},u.values=N,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(q),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(a,l){return i.type="throw",i.arg=e,t.next=a,l&&(t.method="next",t.arg=r),!!l}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],i=n.completion;if("root"===n.tryLoc)return a("end");if(n.tryLoc<=this.prev){var s=l.call(n,"catchLoc"),c=l.call(n,"finallyLoc");if(s&&c){if(this.prev<n.catchLoc)return a(n.catchLoc,!0);if(this.prev<n.finallyLoc)return a(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return a(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return a(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&l.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var n=o?o.completion:{};return n.type=e,n.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),q(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var l=a.arg;q(r)}return l}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:N(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=r),h}}}function x(e,t,r,a){var l=t&&t.prototype instanceof k?t:k,o=Object.create(l.prototype),n=new E(a||[]);return o._invoke=S(e,r,n),o}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(a){return{type:"throw",arg:a}}}function k(){}function $(){}function L(){}function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function R(e){function t(r,a,o,n){var i=w(e[r],e,a);if("throw"!==i.type){var s=i.arg,c=s.value;return c&&"object"===typeof c&&l.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,o,n)}),(function(e){t("throw",e,o,n)})):Promise.resolve(c).then((function(e){s.value=e,o(s)}),n)}n(i.arg)}var r;function a(e,a){function l(){return new Promise((function(r,l){t(e,a,r,l)}))}return r=r?r.then(l,l):l()}this._invoke=a}function S(e,t,r){var a=m;return function(l,o){if(a===p)throw new Error("Generator is already running");if(a===f){if("throw"===l)throw o;return O()}r.method=l,r.arg=o;while(1){var n=r.delegate;if(n){var i=P(n,r);if(i){if(i===h)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=w(e,t,r);if("normal"===s.type){if(a=r.done?f:d,s.arg===h)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=f,r.method="throw",r.arg=s.arg)}}}function P(e,t){var a=e.iterator[t.method];if(a===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,P(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var l=w(a,e.iterator,t.arg);if("throw"===l.type)return t.method="throw",t.arg=l.arg,t.delegate=null,h;var o=l.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function q(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var t=e[n];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){while(++a<e.length)if(l.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},d072:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{staticClass:"title",attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("按照报告")]),r("el-breadcrumb-item",[e._v(e._s(e.id?"编辑":"新建")+"安装报告")])],1),r("el-divider"),r("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("el-tabs",{attrs:{type:"border-card",value:"Info"}},[r("el-tab-pane",{attrs:{label:"客户信息",name:"Info"}},[r("el-row",{attrs:{type:"flex"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"用户单位"}},[r("el-input",{model:{value:e.model.company,callback:function(t){e.$set(e.model,"company",t)},expression:"model.company"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{span:6,label:"客户编码"}},[r("el-input",{model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}})],1)],1)],1),r("el-row",{attrs:{type:"flex"}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"详细地址"}},[r("el-input",{model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"行车路线"}},[r("el-input",{model:{value:e.model.route,callback:function(t){e.$set(e.model,"route",t)},expression:"model.route"}})],1)],1)],1),r("el-divider",{attrs:{"content-position":"left"}},[e._v("联系人")]),r("el-button",{staticStyle:{"margin-left":"2.5em"},attrs:{type:"text"},on:{click:function(t){return e.model.contacts.push({})}}},[r("i",{staticClass:"el-icon-plus"}),e._v("添加")]),e._l(e.model.contacts,(function(t,a){return r("el-row",{key:a},[r("el-row",{attrs:{type:"flex"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"联系人姓名"}},[r("el-input",{model:{value:t.name,callback:function(r){e.$set(t,"name",r)},expression:"item.name"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"部门职务"}},[r("el-input",{model:{value:t.department,callback:function(r){e.$set(t,"department",r)},expression:"item.department"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"手机号"}},[r("el-input",{model:{value:t.phoneNumber,callback:function(r){e.$set(t,"phoneNumber",r)},expression:"item.phoneNumber"}})],1)],1)],1),r("el-row",{attrs:{type:"flex"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"邮箱"}},[r("el-input",{model:{value:t.email,callback:function(r){e.$set(t,"email",r)},expression:"item.email"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"QQ"}},[r("el-input",{model:{value:t.qq,callback:function(r){e.$set(t,"qq",r)},expression:"item.qq"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",[r("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.model.contacts.splice(a,1)}}},[e._v("删除")])],1)],1)],1),r("el-divider")],1)}))],2),r("el-tab-pane",{attrs:{label:"现场工况",name:"working"}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"仪表"}},[r("el-select",{model:{value:e.model.meter,callback:function(t){e.$set(e.model,"meter",t)},expression:"model.meter"}},e._l(e.meters,(function(e){return r("el-option",{key:e._id,attrs:{label:e.meterName,value:e._id}})})),1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"容器"}},[r("el-select",{model:{value:e.model.container,callback:function(t){e.$set(e.model,"container",t)},expression:"model.container"}},e._l(e.containers,(function(e){return r("el-option",{key:e._id,attrs:{label:e.material,value:e._id}})})),1)],1)],1)],1),r("el-row",{attrs:{type:"flex"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"其他液位计安装情况"}},[r("el-input",{model:{value:e.model.otherCondition,callback:function(t){e.$set(e.model,"otherCondition",t)},expression:"model.otherCondition"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"二次仪表类型及数据存储"}},[r("el-input",{model:{value:e.model.meterType,callback:function(t){e.$set(e.model,"meterType",t)},expression:"model.meterType"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"容器投用时间"}},[r("el-input",{model:{value:e.model.useTime,callback:function(t){e.$set(e.model,"useTime",t)},expression:"model.useTime"}})],1)],1)],1),r("el-row",{attrs:{type:"flex"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"液体介质"}},[r("el-select",{model:{value:e.model.medium,callback:function(t){e.$set(e.model,"medium",t)},expression:"model.medium"}},e._l(e.mediums,(function(e){return r("el-option",{key:e._id,attrs:{label:e.mediumName,value:e._id}})})),1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"粘度"}},[r("el-input",{model:{value:e.model.viscosity,callback:function(t){e.$set(e.model,"viscosity",t)},expression:"model.viscosity"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"密度"}},[r("el-input",{model:{value:e.model.density,callback:function(t){e.$set(e.model,"density",t)},expression:"model.density"}})],1)],1)],1),r("el-row",{attrs:{type:"flex"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"温度范围"}},[r("el-input",{model:{value:e.model.temperatureRange,callback:function(t){e.$set(e.model,"temperatureRange",t)},expression:"model.temperatureRange"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"压力范围"}},[r("el-input",{model:{value:e.model.pressureRange,callback:function(t){e.$set(e.model,"pressureRange",t)},expression:"model.pressureRange"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"液位变化范围"}},[r("el-input",{model:{value:e.model.liquidLevelRange,callback:function(t){e.$set(e.model,"liquidLevelRange",t)},expression:"model.liquidLevelRange"}})],1)],1)],1),r("el-divider",{attrs:{"content-position":"left"}},[e._v("用户参数")]),r("el-button",{staticStyle:{"margin-left":"2.5em"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini",circle:""},on:{click:function(t){return e.model.userPreferences.push({})}}}),r("el-button",{staticStyle:{"margin-left":"2.5em"},attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(t){e.model.userPreferences.length&&e.model.userPreferences.pop()}}}),r("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},e._l(e.model.userPreferences,(function(t,a){return r("el-col",{key:a,attrs:{md:6}},[r("el-form-item",{staticStyle:{"margin-top":"45px"},attrs:{label:"参数号"}},[r("el-input",{attrs:{placeholder:"参数号"},model:{value:t.parameterNumber,callback:function(r){e.$set(t,"parameterNumber",r)},expression:"item.parameterNumber"}})],1),r("el-form-item",{attrs:{label:"参数值"}},[r("el-input",{attrs:{placeholder:"参数值"},model:{value:t.parameterValue,callback:function(r){e.$set(t,"parameterValue",r)},expression:"item.parameterValue"}})],1)],1)})),1)],1),r("el-tab-pane",{attrs:{label:"技术信息",name:"technicalInformation"}},[r("el-divider",{attrs:{"content-position":"left"}},[e._v("电源电压")]),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"最大电压"}},[r("el-input",{model:{value:e.model.maxVoltage.voltage,callback:function(t){e.$set(e.model.maxVoltage,"voltage",t)},expression:"model.maxVoltage.voltage"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"校准1信号"}},[r("el-input",{model:{value:e.model.maxVoltage.calibratingSignal,callback:function(t){e.$set(e.model.maxVoltage,"calibratingSignal",t)},expression:"model.maxVoltage.calibratingSignal"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"最小电压"}},[r("el-input",{model:{value:e.model.minVoltage.voltage,callback:function(t){e.$set(e.model.minVoltage,"voltage",t)},expression:"model.minVoltage.voltage"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"校准2信号"}},[r("el-input",{model:{value:e.model.minVoltage.calibratingSignal,callback:function(t){e.$set(e.model.minVoltage,"calibratingSignal",t)},expression:"model.minVoltage.calibratingSignal"}})],1)],1)],1),r("el-divider",{attrs:{"content-position":"left"}},[e._v("其他")]),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"仪表电流"}},[r("el-input",{model:{value:e.model.electricity,callback:function(t){e.$set(e.model,"electricity",t)},expression:"model.electricity"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"实际自动复位液位值"}},[r("el-input",{model:{value:e.model.liquidLevel,callback:function(t){e.$set(e.model,"liquidLevel",t)},expression:"model.liquidLevel"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"模拟输出回路电阻"}},[r("el-input",{model:{value:e.model.resistance,callback:function(t){e.$set(e.model,"resistance",t)},expression:"model.resistance"}})],1)],1)],1),r("el-divider",{attrs:{"content-position":"left"}},[e._v("内部参数")]),r("el-button",{staticStyle:{"margin-left":"2.5em"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini",circle:""},on:{click:function(t){return e.model.intrinsicPreferences.push({})}}}),r("el-button",{staticStyle:{"margin-left":"1.5em"},attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(t){e.model.intrinsicPreferences.length&&e.model.intrinsicPreferences.pop()}}}),r("el-row",{staticStyle:{"flex-wrap":"wrap"},attrs:{type:"flex"}},e._l(e.model.intrinsicPreferences,(function(t,a){return r("el-col",{key:a,attrs:{md:6}},[r("el-form-item",{staticStyle:{"margin-top":"45px"},attrs:{label:"参数号"}},[r("el-input",{attrs:{placeholder:"参数号"},model:{value:t.parameterNumber,callback:function(r){e.$set(t,"parameterNumber",r)},expression:"item.parameterNumber"}})],1),r("el-form-item",{attrs:{label:"参数值"}},[r("el-input",{attrs:{placeholder:"参数值"},model:{value:t.parameterValue,callback:function(r){e.$set(t,"parameterValue",r)},expression:"item.parameterValue"}})],1)],1)})),1),r("el-divider"),r("el-row",[r("el-form-item",{attrs:{label:"安装示意图"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterUpload1}},[e.model.installationDiagram?r("img",{staticClass:"avatar",attrs:{src:e.model.installationDiagram}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),r("el-tab-pane",{attrs:{label:"现场数据记录",name:"fieldData"}},[r("el-row",[r("el-form-item",{attrs:{label:"时间"}},[r("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.model.time,callback:function(t){e.$set(e.model,"time",t)},expression:"model.time"}})],1)],1),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"对比液位"}},[r("el-input",{model:{value:e.model.contrastLiquidLevel,callback:function(t){e.$set(e.model,"contrastLiquidLevel",t)},expression:"model.contrastLiquidLevel"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"仪表液位"}},[r("el-input",{model:{value:e.model.meterLiquidLevel,callback:function(t){e.$set(e.model,"meterLiquidLevel",t)},expression:"model.meterLiquidLevel"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"仪表信号"}},[r("el-input",{model:{value:e.model.meterSignal,callback:function(t){e.$set(e.model,"meterSignal",t)},expression:"model.meterSignal"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"信号波形文件名"}},[r("el-input",{model:{value:e.model.signalFileName,callback:function(t){e.$set(e.model,"signalFileName",t)},expression:"model.signalFileName"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"介质压力"}},[r("el-input",{model:{value:e.model.mediuPressure,callback:function(t){e.$set(e.model,"mediuPressure",t)},expression:"model.mediuPressure"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"介质温度"}},[r("el-input",{model:{value:e.model.mediumTemperature,callback:function(t){e.$set(e.model,"mediumTemperature",t)},expression:"model.mediumTemperature"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"状态"}},[r("el-select",{on:{change:e.select},model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},e._l(e.status,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e}})})),1)],1)],1)],1)],1),r("el-tab-pane",{attrs:{label:"仪表信号存储记录",name:"meterSignalStorageRecord"}},[r("el-row",[r("el-form-item",{attrs:{label:"信号记录图"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterUpload2}},[e.model.signalFigure?r("img",{staticClass:"avatar",attrs:{src:e.model.signalFigure}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),r("el-tab-pane",{attrs:{label:"现场照片",name:"sitePhotos"}},[r("el-divider",{attrs:{"content-position":"left"}},[e._v("仪表全景")]),r("el-form-item",{attrs:{label:"仪表全景"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterUpload3}},[e.model.meterPanorama?r("img",{staticClass:"avatar",attrs:{src:e.model.meterPanorama}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"仪表近景"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterUpload4}},[e.model.meterClose?r("img",{staticClass:"avatar",attrs:{src:e.model.meterClose}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"管线全景"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterUpload5}},[e.model.pipelinePanorama?r("img",{staticClass:"avatar",attrs:{src:e.model.pipelinePanorama}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"探头全景"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterUpload6}},[e.model.probePanorama?r("img",{staticClass:"avatar",attrs:{src:e.model.probePanorama}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),r("el-tab-pane",{attrs:{label:"附加信息",name:"overheadInformation"}},[r("el-row",{attrs:{type:"flex"}},[r("el-col",[r("el-form-item",{attrs:{label:"技术主管"}},[r("el-select",{model:{value:e.model.supervisor,callback:function(t){e.$set(e.model,"supervisor",t)},expression:"model.supervisor"}},e._l(e.supervisors.filter((function(e){return"2"==e.authority})),(function(e){return r("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),r("el-form-item",{attrs:{label:"特殊情况说明"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.model.otherContent,callback:function(t){e.$set(e.model,"otherContent",t)},expression:"model.otherContent"}})],1),r("el-form-item",{attrs:{label:"报告评分"}},[r("el-rate",{staticStyle:{"margin-top":"0.6rem"},attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:e.model.scoreReport,callback:function(t){e.$set(e.model,"scoreReport",t)},expression:"model.scoreReport"}})],1),r("el-form-item",{attrs:{label:"退回理由"}},[r("span",[e._v(e._s(void 0==e.model.returnReason?"暂无":e.model.returnReason))])]),r("el-form-item",{attrs:{label:"评语"}},[r("span",[e._v(e._s(void 0==e.model.comments?"暂无":e.model.comments))])])],1)],1)],1)],1),r("el-form-item",{staticStyle:{"margin-top":"1rem"}},["已通过"!=this.model.reportStatus?r("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")]):e._e()],1)],1)],1)},l=[],o=(r("96cf"),r("1da1")),n={props:{id:{type:String}},data:function(){return{status:[{value:1,label:"进料"},{value:2,label:"出料"},{value:3,label:"静止"}],meters:[],supervisors:[],containers:[],mediums:[],model:{company:"",code:null,address:"",route:"",contacts:[],meter:null,container:null,otherCondition:"",meterType:"",useTime:"",medium:"",liquidMedium:"",viscosity:"",desity:"",temperatureRange:"",pressureRange:"",liquidLevelRange:"",userPreferences:[],maxVoltage:{voltage:"",calibratingSignal:""},minVoltage:{voltage:"",calibratingSignal:""},electricity:"",liquidLevel:"",resistance:"",intrinsicPreferences:[],installationDiagram:"",time:"",contrastLiquidLevel:"",meterliquidLevel:"",meterSignal:"",signalFileName:"",mediumPressure:"",mediumTemperature:"",status:{value:null,label:""},signalFigure:"",meterPanorama:"",meterClose:"",pipelinePanorama:"",probePanorama:"",supervisor:null,otherContent:"",reportStatus:"",submitter:""}}},methods:{save:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=8;break}return e.model.submitter=localStorage.id,e.model.reportStatus="未提交",t.next=5,e.$http.put("rest/installationReports/".concat(e.id),e.model);case 5:t.sent,t.next=13;break;case 8:return e.model.submitter=localStorage.id,e.model.reportStatus="未提交",t.next=12,e.$http.post("rest/installationReports/",e.model);case 12:t.sent;case 13:e.$router.push("/installationReports/list"),e.$message({type:"success",message:"保存成功"});case 15:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/installationReports/".concat(e.id));case 2:r=t.sent,e.model=Object.assign({},e.model,r.data.pop());case 4:case"end":return t.stop()}}),t)})))()},afterUpload1:function(e){this.model.installationDiagram=e.url},afterUpload2:function(e){this.model.signalFigure=e.url},afterUpload3:function(e){this.model.meterPanorama=e.url},afterUpload4:function(e){this.model.meterClose=e.url},afterUpload5:function(e){this.model.pipelinePanorama=e.url},afterUpload6:function(e){this.model.probePanorama=e.url},fetchMeters:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/meters");case 2:r=t.sent,e.meters=r.data;case 4:case"end":return t.stop()}}),t)})))()},fetchSupervisor:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/accounts");case 2:r=t.sent,e.supervisors=r.data;case 4:case"end":return t.stop()}}),t)})))()},fetchContainer:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/containers");case 2:r=t.sent,e.containers=r.data;case 4:case"end":return t.stop()}}),t)})))()},fetchMedium:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/mediums");case 2:r=t.sent,e.mediums=r.data;case 4:case"end":return t.stop()}}),t)})))()},select:function(e){this.model.status.label=e.label,this.model.status.value=e.value}},created:function(){this.fetchMeters(),this.fetchContainer(),this.fetchMedium(),this.fetchSupervisor(),this.id&&this.fetch()}},i=n,s=(r("0f10"),r("2877")),c=Object(s["a"])(i,a,l,!1,null,"31b0b56f",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-61fe68ac.86cb5930.js.map